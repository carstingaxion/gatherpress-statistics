{"version":3,"file":"view.js","mappings":"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","sources":["webpack://gatherpress-statistics/./src/view.js"],"sourcesContent":["/**\n * Frontend JavaScript for GatherPress Statistics block.\n *\n * This file adds confetti animation to the confetti style variation\n * and other interactive enhancements.\n */\n\ndocument.addEventListener( 'DOMContentLoaded', function() {\n\tconst statBlocks = document.querySelectorAll(\n\t\t'.wp-block-gatherpress-statistics'\n\t);\n\n\tstatBlocks.forEach( function ( block ) {\n\t\tconst numberElement = block.querySelector(\n\t\t\t'.gatherpress-stats-number'\n\t\t);\n\n\t\tif ( numberElement ) {\n\t\t\t// Fade in animation for all blocks\n\t\t\tnumberElement.style.opacity = '0';\n\t\t\tsetTimeout( function() {\n\t\t\t\tnumberElement.style.transition = 'opacity 0.5s ease-in-out';\n\t\t\t\tnumberElement.style.opacity = '1';\n\t\t\t}, 100 );\n\t\t}\n\n\t\t// Add confetti functionality for confetti style\n\t\tif ( block.classList.contains( 'is-style-confetti' ) ) {\n\t\t\taddConfettiAnimation( block );\n\t\t}\n\t} );\n\n\t/**\n\t * Add confetti animation to a block\n\t * @param {HTMLElement} block - The block element to add confetti to\n\t */\n\tfunction addConfettiAnimation( block ) {\n\t\t// Create confetti container\n\t\tconst confettiContainer = document.createElement( 'div' );\n\t\tconfettiContainer.className = 'gatherpress-confetti';\n\t\tblock.appendChild( confettiContainer );\n\n\t\t// Confetti colors\n\t\tconst colors = [\n\t\t\t'#ff6b6b',\n\t\t\t'#4ecdc4',\n\t\t\t'#45b7d1',\n\t\t\t'#f9ca24',\n\t\t\t'#f0932b',\n\t\t\t'#eb4d4b',\n\t\t\t'#6c5ce7',\n\t\t\t'#a29bfe',\n\t\t];\n\n\t\t/**\n\t\t * Create a single confetti piece\n\t\t * @param {number} delay - Animation delay in milliseconds\n\t\t */\n\t\tfunction createConfetti( delay ) {\n\t\t\tconst confetti = document.createElement( 'div' );\n\t\t\tconfetti.className = 'gatherpress-confetti-piece';\n\t\t\t\n\t\t\t// Random properties\n\t\t\tconst left = Math.random() * 100;\n\t\t\tconst size = Math.random() * 6 + 4;\n\t\t\tconst color = colors[ Math.floor( Math.random() * colors.length ) ];\n\t\t\tconst animationDuration = Math.random() * 2 + 2;\n\t\t\tconst animationDelay = delay || ( Math.random() * 0.5 );\n\t\t\t\n\t\t\tconfetti.style.left = left + '%';\n\t\t\tconfetti.style.width = size + 'px';\n\t\t\tconfetti.style.height = size + 'px';\n\t\t\tconfetti.style.backgroundColor = color;\n\t\t\tconfetti.style.animationDuration = animationDuration + 's';\n\t\t\tconfetti.style.animationDelay = animationDelay + 's';\n\t\t\t\n\t\t\tconfettiContainer.appendChild( confetti );\n\t\t\t\n\t\t\t// Remove confetti after animation completes\n\t\t\tsetTimeout(\n\t\t\t\tfunction () {\n\t\t\t\t\tif ( confetti.parentNode ) {\n\t\t\t\t\t\tconfetti.parentNode.removeChild( confetti );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t( animationDuration + animationDelay ) * 1000\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Trigger confetti burst\n\t\t */\n\t\tfunction triggerConfetti() {\n\t\t\t// Create 30 confetti pieces with staggered delays\n\t\t\tfor ( let i = 0; i < 30; i++ ) {\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tcreateConfetti( i * 0.05 );\n\t\t\t\t}, i * 10 );\n\t\t\t}\n\t\t}\n\n\t\t// Trigger confetti on hover\n\t\tlet isHovering = false;\n\t\tlet hoverTimeout;\n\n\t\tblock.addEventListener( 'mouseenter', function() {\n\t\t\tisHovering = true;\n\t\t\t// Delay slightly to avoid triggering on quick mouse movements\n\t\t\thoverTimeout = setTimeout( function() {\n\t\t\t\tif ( isHovering ) {\n\t\t\t\t\ttriggerConfetti();\n\t\t\t\t}\n\t\t\t}, 100 );\n\t\t} );\n\n\t\tblock.addEventListener( 'mouseleave', function() {\n\t\t\tisHovering = false;\n\t\t\tclearTimeout( hoverTimeout );\n\t\t} );\n\t}\n} );"],"names":["document","addEventListener","statBlocks","querySelectorAll","forEach","block","numberElement","querySelector","style","opacity","setTimeout","transition","classList","contains","addConfettiAnimation","confettiContainer","createElement","className","appendChild","colors","createConfetti","delay","confetti","left","Math","random","size","color","floor","length","animationDuration","animationDelay","width","height","backgroundColor","parentNode","removeChild","triggerConfetti","i","isHovering","hoverTimeout","clearTimeout"],"ignoreList":[],"sourceRoot":""}